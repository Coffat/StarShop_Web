# Môi trường Production

# SERVER
server.port=${PORT:80}

# JWT
jwt.secret=${JWT_SECRET_KEY}
jwt.expiration=86400000

# MAIL
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.from=${MAIL_FROM}

# OAUTH2 - GOOGLE
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}

# OAUTH2 - FACEBOOK
spring.security.oauth2.client.registration.facebook.client-id=${FACEBOOK_CLIENT_ID}
spring.security.oauth2.client.registration.facebook.client-secret=${FACEBOOK_CLIENT_SECRET}

# URL ỨNG DỤNG
app.base-url=https://api.flowershop.com
app.upload.dir=/path/to/your/uploads

# URL DỊCH VỤ BÊN NGOÀI
facebook.avatar.url.template=https://graph.facebook.com/{id}/picture?type=large
sockjs.client.library.url=https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js
swagger.server.prod.url=https://api.flowershop.com

# CORS
cors.allowed-origins=https://your-frontend-domain.com

# MOMO (LIVE)
momo.base-url=https://payment.momo.vn
momo.partner-code=${MOMO_PARTNER_CODE}
momo.access-key=${MOMO_ACCESS_KEY}
momo.secret-key=${MOMO_SECRET_KEY}

# GHN (SHIPPING)
ghn.base-url=https://online-gateway.ghn.vn/shiip/public-api
ghn.token=${GHN_TOKEN}
ghn.shop-id=${GHN_SHOP_ID}

# GEMINI (AI)
gemini.api-key=${GEMINI_API_KEY}
gemini.base-url=https://generativelanguage.googleapis.com/v1beta
gemini.model=gemini-2.5-flash

# DATABASE CONNECTION POOL - HikariCP (Production)
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.auto-commit=false

# JPA/HIBERNATE - Production Optimizations
spring.jpa.properties.hibernate.connection.autocommit=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true
spring.jpa.properties.hibernate.cache.use_second_level_cache=false
spring.jpa.properties.hibernate.cache.use_query_cache=false

# TRANSACTION MANAGEMENT
spring.jpa.properties.hibernate.transaction.coordinator_class=org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl
spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext

